<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>春田花花疯人院</title>
    <style>
        body {
            margin: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            background: #1a1a1a;
            overflow-x: hidden;
            overflow-y: auto;
        }

        .image-container {
            display: inline-block;
            position: relative;
            text-align: center;
        }

        img {
            width: auto;
            height: auto;
            max-width: 100%;
            box-shadow: 0 0 30px rgba(0,0,0,0.4);
            margin: 20px 0;
            transition: opacity 0.3s ease;
        }

        .loader {
            border: 5px solid #f3f3f3;
            border-top: 5px solid #3498db;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1.5s linear infinite;
            position: absolute;
            display: none;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="loader"></div>
    <div class="image-container">
        <img id="randomImage" alt="随机图片">
    </div>

    <script>
        // 专属图片库
        const imageUrls = [
            'https://tc.cecily.eu.org/file/api/3fiEaoqJ.jpg',
            'https://tc.cecily.eu.org/file/api/LXgNeotJ.jpg',
            'https://tc.cecily.eu.org/file/api/X6pi6Ss6.jpg',
            'https://tc.cecily.eu.org/file/api/eob40NoY.jpg',
            'https://tc.cecily.eu.org/file/api/9jSiZ1i6.jpg',
            'https://tc.cecily.eu.org/file/api/SMj89ADB.jpg',
            'https://tc.cecily.eu.org/file/api/lRgXm1AN.jpg',
            'https://tc.cecily.eu.org/file/api/zspqjsUd.jpg',
            'https://tc.cecily.eu.org/file/api/pWoivWm5.jpg',
            'https://tc.cecily.eu.org/file/api/d1yesmpM.jpg',
            'https://tc.cecily.eu.org/file/api/0S1tHmY2.jpg',
            'https://tc.cecily.eu.org/file/api/RT8ct6hy.jpg',
            'https://tc.cecily.eu.org/file/api/OBnQSCWa.jpg',
            'https://tc.cecily.eu.org/file/api/AWFMlI8l.jpg',
            'https://tc.cecily.eu.org/file/api/AikuZV4T.jpg'
        ];

        // 配置参数
        const config = {
            fallbackImage: 'https://placehold.co/1200x800?text=图片加载失败',
            timeout: 8000
        };

        async function loadRandomImage() {
            const loader = document.querySelector('.loader');
            const imgElement = document.getElementById('randomImage');
            
            try {
                loader.style.display = 'block';
                imgElement.style.opacity = 0;

                const randomIndex = Math.floor(Math.random() * imageUrls.length);
                const imageUrl = `${imageUrls[randomIndex]}?t=${Date.now()}`;

                await new Promise((resolve, reject) => {
                    const timer = setTimeout(() => reject('加载超时'), config.timeout);
                    
                    imgElement.onload = () => {
                        clearTimeout(timer);
                        resolve();
                    };
                    
                    imgElement.onerror = () => {
                        clearTimeout(timer);
                        reject('加载失败');
                    };
                    
                    imgElement.src = imageUrl;
                });

            } catch (error) {
                console.error(error);
                imgElement.src = config.fallbackImage;
            } finally {
                loader.style.display = 'none';
                imgElement.style.opacity = 1;
            }
        }

        // 仅保留页面加载自动刷新
        window.onload = loadRandomImage;

        // 自动调整图片尺寸
        window.addEventListener('resize', () => {
            const img = document.getElementById('randomImage');
            if (img.complete) {
                img.style.width = Math.min(img.naturalWidth, window.innerWidth - 40) + 'px';
                img.style.height = 'auto';
            }
        });
    </script>
</body>
</html>
